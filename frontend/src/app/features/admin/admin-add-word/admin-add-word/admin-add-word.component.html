<div class="flex-center form-holder">
  <h2>Új szó hozzáadása</h2>
  <form class="flex-center default-form" [formGroup]="addWordForm">
    <div class="field-holder">
      <mat-form-field appearance="outline">
        <mat-label>Nyelv</mat-label>
        <mat-select
          formControlName="language"
          panelClass="default-select"
          (selectionChange)="genderSetter()"
        >
          <mat-option
            *ngFor="let language of languageType | enumToView"
            [value]="language.value"
          >
            {{ language.name }}
            <span
              *ngIf="addWordForm.controls.language.value === language.value"
            >
              &#10004;</span
            >
          </mat-option>
        </mat-select>
        <mat-error *ngIf="addWordForm.controls.language.hasError('required')"
          >Kötelező mező</mat-error
        >
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Új szó</mat-label>
        <input
          matInput
          placeholder="Add meg egy új szót"
          formControlName="word"
        />
        <mat-error *ngIf="addWordForm.controls.word.hasError('required')"
          >Kötelező mező</mat-error
        >
      </mat-form-field>
      <mat-form-field appearance="outline" *ngIf="isGenderShown">
        <mat-label>Nem</mat-label>
        <mat-select formControlName="gender" panelClass="default-select">
          <mat-option
            *ngFor="let gender of genderType | enumToView"
            [value]="gender.value"
          >
            {{ gender.name }}
            <span *ngIf="addWordForm.controls.gender.value === gender.value">
              &#10004;</span
            >
          </mat-option>
        </mat-select>
        <mat-error *ngIf="addWordForm.controls.gender.hasError('required')"
          >Kötelező mező</mat-error
        >
      </mat-form-field>
      <ng-container formGroupName="translation1">
        <!--ide egy ngfor!!!-->
        <mat-form-field appearance="outline">
          <mat-label>1. jelentés</mat-label>
          <input
            matInput
            placeholder="Add meg egy jelentést"
            formControlName="translation1Meaning"
          />
          <mat-error
            *ngIf="
              addWordForm.controls.translation1['controls'][
                'translation1Meaning'
              ].hasError('required')
            "
            >Kötelező mező</mat-error
          >
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Nem</mat-label>
          <mat-select
            formControlName="translation1Gender"
            panelClass="default-select"
          >
            <mat-option
              *ngFor="let gender of genderType | enumToView"
              [value]="gender.value"
            >
              {{ gender.name }}
              <span
                *ngIf="
                  addWordForm.controls.translation1['controls'][
                    'translation1Gender'
                  ].value === gender.value
                "
              >
                &#10004;</span
              >
            </mat-option>
          </mat-select>
          <mat-error
            *ngIf="
              addWordForm.controls.translation1['controls'][
                'translation1Gender'
              ].hasError('required')
            "
            >Kötelező mező</mat-error
          >
        </mat-form-field>
      </ng-container>
    </div>
    <button
      mat-raised-button
      color="primary"
      [disabled]="!addWordForm.valid"
      (click)="submitNewWord(addWordForm.controls.language.value)"
    >
      Add ticket
    </button>
  </form>
  <div class="response-holder flex-center">
    <p
      *ngIf="addWordResponse"
      [ngClass]="addWordResponse.isError ? 'warn' : 'primary'"
    >
      {{ addWordResponse.message }}
    </p>
  </div>
</div>
